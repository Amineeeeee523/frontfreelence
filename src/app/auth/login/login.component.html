<div class="login-container">
  <div class="login-panel">
    <a routerLink="/" class="back-link">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 18l-6-6 6-6"/></svg>
      <span>Accueil</span>
    </a>

    <div class="login-header">
      <img src="assets/Logo.png" alt="Promatch Logo" class="logo">
      <h1 class="title">Re-bonjour !</h1>
      <p class="subtitle">Connectez-vous pour retrouver vos projets et collaborations en cours.</p>
    </div>
    
    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" novalidate>
      <div class="input-group">
        <div class="input-field" [class.is-invalid]="loginForm.get('email')?.invalid && loginForm.get('email')?.touched">
          <span class="input-icon">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" d="M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75" />
            </svg>
          </span>
          <input type="email" formControlName="email" placeholder="Adresse e-mail" aria-label="Adresse e-mail">
        </div>
        <div *ngIf="loginForm.get('email')?.invalid && loginForm.get('email')?.touched" class="error-message">
          <span *ngIf="loginForm.get('email')?.errors?.['required']">L'e-mail est requis.</span>
          <span *ngIf="loginForm.get('email')?.errors?.['email']">Adresse e-mail invalide.</span>
        </div>
      </div>

      <div class="input-group">
        <div class="input-field" [class.is-invalid]="loginForm.get('password')?.invalid && loginForm.get('password')?.touched">
          <span class="input-icon">
             <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" d="M16.5 10.5V6.75a4.5 4.5 0 00-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z" />
            </svg>
          </span>
          <input [type]="passwordVisible ? 'text' : 'password'" formControlName="password" placeholder="Mot de passe" aria-label="Mot de passe">
          <button type="button" (click)="togglePasswordVisibility()" class="password-toggle-btn" aria-label="Afficher ou masquer le mot de passe">
            <svg *ngIf="!passwordVisible" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" >
              <path stroke-linecap="round" stroke-linejoin="round" d="M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.243 4.243l-4.243-4.243" />
            </svg>
            <svg *ngIf="passwordVisible" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" d="M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z" />
              <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
            </svg>
          </button>
        </div>
        <div *ngIf="loginForm.get('password')?.invalid && loginForm.get('password')?.touched" class="error-message">
          <span *ngIf="loginForm.get('password')?.errors?.['required']">Le mot de passe est requis.</span>
        </div>
      </div>
      
      <div class="form-options">
        <a routerLink="/forgot-password" class="forgot-password-link">Mot de passe oubli√© ?</a>
      </div>
      
      <div *ngIf="errorMessage" class="error-message server-error">
        {{ errorMessage }}
      </div>
      
      <button type="submit" class="submit-btn" [disabled]="loginForm.invalid">
        Se connecter
      </button>
      
      <p class="signup-link">
        Pas encore de compte ? <a routerLink="/sign-up">Inscrivez-vous</a>
      </p>
    </form>
  </div>
</div>
  
